(this["webpackJsonpimage-crop-test"]=this["webpackJsonpimage-crop-test"]||[]).push([[0],{29:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(8),i=n.n(r),c=n(3),o=n(4),u=n(2),s=n(5),l=n.n(s),h=Math.PI/180;function d(t,e,n){return j.apply(this,arguments)}function j(){return j=Object(o.a)(Object(c.a)().mark((function t(e,n,a){var r,i,o,u,s,l,d,j,b,f,p,g=arguments;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=g.length>3&&void 0!==g[3]?g[3]:1,i=g.length>4&&void 0!==g[4]?g[4]:0,o=n.getContext("2d")){t.next=5;break}throw new Error("No 2d context");case 5:u=e.naturalWidth/e.width,s=e.naturalHeight/e.height,l=window.devicePixelRatio,n.width=Math.floor(a.width*u*l),n.height=Math.floor(a.height*s*l),o.scale(l,l),o.imageSmoothingQuality="high",d=a.x*u,j=a.y*s,b=i*h,f=e.naturalWidth/2,p=e.naturalHeight/2,o.save(),o.translate(-d,-j),o.translate(f,p),o.rotate(b),o.scale(r,r),o.translate(-f,-p),o.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),o.restore();case 25:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}n(27);var b=n(0);function f(t,e,n){return Object(s.centerCrop)(Object(s.makeAspectCrop)({unit:"%",width:90},n,t,e),t,e)}function p(){var t,e,n,r=Object(a.useState)(""),i=Object(u.a)(r,2),s=i[0],h=i[1],j=Object(a.useRef)(null),p=Object(a.useRef)(null),g=Object(a.useState)(),v=Object(u.a)(g,2),O=v[0],m=v[1],x=Object(a.useState)(),w=Object(u.a)(x,2),C=w[0],y=w[1],S=Object(a.useState)(1),k=Object(u.a)(S,2),R=k[0],M=k[1],N=Object(a.useState)(0),E=Object(u.a)(N,2),F=E[0],H=E[1],T=Object(a.useState)(16/9),W=Object(u.a)(T,2),A=W[0],B=W[1];return t=Object(o.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==C&&void 0!==C&&C.width&&null!==C&&void 0!==C&&C.height&&p.current&&j.current&&d(p.current,j.current,C,R,F);case 1:case"end":return t.stop()}}),t)}))),e=100,n=[C,R,F],Object(a.useEffect)((function(){var a=setTimeout((function(){t.apply(void 0,n)}),e);return function(){clearTimeout(a)}}),[n,t,e]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{className:"Crop-Controls",children:[Object(b.jsx)("input",{type:"file",accept:"image/*",onChange:function(t){if(t.target.files&&t.target.files.length>0){m(void 0);var e=new FileReader;e.addEventListener("load",(function(){var t;return h((null===(t=e.result)||void 0===t?void 0:t.toString())||"")})),e.readAsDataURL(t.target.files[0])}}}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"scale-input",children:"Scale: "}),Object(b.jsx)("input",{id:"scale-input",type:"number",step:"0.1",value:R,disabled:!s,onChange:function(t){return M(Number(t.target.value))}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"rotate-input",children:"Rotate: "}),Object(b.jsx)("input",{id:"rotate-input",type:"number",value:F,disabled:!s,onChange:function(t){return H(Math.min(180,Math.max(-180,Number(t.target.value))))}})]}),Object(b.jsx)("div",{children:Object(b.jsxs)("button",{onClick:function(){if(A)B(void 0);else if(p.current){var t=p.current,e=t.width,n=t.height;B(16/9),m(f(e,n,16/9))}},children:["Toggle aspect ",A?"off":"on"]})})]}),Boolean(s)&&Object(b.jsx)(l.a,{crop:O,onChange:function(t,e){return m(e)},onComplete:function(t){return y(t)},aspect:A,children:Object(b.jsx)("img",{ref:p,alt:"Crop me",src:s,style:{transform:"scale(".concat(R,") rotate(").concat(F,"deg)")},onLoad:function(t){if(A){var e=t.currentTarget,n=e.width,a=e.height;m(f(n,a,A))}}})}),Object(b.jsx)("div",{children:Boolean(C)&&Object(b.jsx)("canvas",{ref:j,style:{border:"1px solid black",objectFit:"contain",width:null===C||void 0===C?void 0:C.width,height:null===C||void 0===C?void 0:C.height}})})]})}n(29);var g=document.getElementById("root");i.a.render(Object(b.jsx)(p,{}),g)}},[[30,1,2]]]);
//# sourceMappingURL=main.6f08b389.chunk.js.map